# Kubernetes StatefulSet

```sh
$ kubectl get po,sts,svc,pvc 

NAME                    READY   STATUS      RESTARTS   AGE
pod/app-python-0        1/1     Running     0          2m21s
pod/app-python-1        1/1     Running     0          102s

NAME                          READY   AGE
statefulset.apps/app-python   2/2     2m21s

NAME                 TYPE        CLUSTER-IP       EXTERNAL-IP   PORT(S)          AGE
service/app-python   ClusterIP   10.103.201.159   <none>        8080/TCP         2m21s
service/kubernetes   ClusterIP   10.96.0.1        <none>        443/TCP          14d

NAME                                      STATUS   VOLUME                                    CAPACITY   ACCESS MODES   STORAGECLASS   AGE
persistentvolumeclaim/data-app-python-0   Bound    pvc-fd0312d7-fe0a-46a3-a309-d2c751bdac83  1Gi        RWO            standard       17m
persistentvolumeclaim/data-app-python-1   Bound    pvc-3632c42a-40af-0c88-b295-5f0c91daeb3f  1Gi        RWO            standard       10m6s
```

```sh
$ kubectl exec pod/app-python-0 -- cat visits
48
$ kubectl exec pod/app-python-1 -- cat visits
23
```

StatefulSet allocates in each pod their own persistent volumes, so that values are distinct. Moreover, each time random pod is processing request due to a load balancing.

## Ordering Guarantees 
Ordering Guarantee is not useful for my app because the app is stateless and do not rely on other services. So there is no need to follow any order in deployment.